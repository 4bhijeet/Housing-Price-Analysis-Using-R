{
    "contents" : "require(gdata)\n\nbk <- read.xls(\"C:/Users/Abhijeet/Desktop/DIC/Dataset/doing_data_science-master/dds_datasets/dds_datasets/rollingsales_brooklyn.xls\",pattern=\"BOROUGH\", verbose = FALSE, perl = \"C:/Strawberry/perl/bin/perl.exe\")\nmn <- read.xls(\"C:/Users/Abhijeet/Desktop/DIC/Dataset/doing_data_science-master/dds_datasets/dds_datasets/rollingsales_manhattan.xls\",pattern=\"BOROUGH\", verbose = FALSE, perl = \"C:/Strawberry/perl/bin/perl.exe\")\nqu <- read.xls(\"C:/Users/Abhijeet/Desktop/DIC/Dataset/doing_data_science-master/dds_datasets/dds_datasets/rollingsales_queens.xls\",pattern=\"BOROUGH\", verbose = FALSE, perl = \"C:/Strawberry/perl/bin/perl.exe\")\nbr <- read.xls(\"C:/Users/Abhijeet/Desktop/DIC/Dataset/doing_data_science-master/dds_datasets/dds_datasets/rollingsales_bronx.xls\",pattern=\"BOROUGH\", verbose = FALSE, perl = \"C:/Strawberry/perl/bin/perl.exe\")\nsi <- read.xls(\"C:/Users/Abhijeet/Desktop/DIC/Dataset/doing_data_science-master/dds_datasets/dds_datasets/rollingsales_statenisland.xls\",pattern=\"BOROUGH\", verbose = FALSE, perl = \"C:/Strawberry/perl/bin/perl.exe\")\n\n\n##Convert all Prices and area into digits.\nbk$land.sqft <- as.numeric(gsub(\"[^[:digit:]]\",\"\",bk$LAND.SQUARE.FEET))\nbk$sales.price <- as.numeric(gsub(\"[^[:digit:]]\",\"\",bk$SALE.PRICE))\nmn$land.sqft <- as.numeric(gsub(\"[^[:digit:]]\",\"\",mn$LAND.SQUARE.FEET))\nmn$sales.price <- as.numeric(gsub(\"[^[:digit:]]\",\"\",mn$SALE.PRICE))\nqu$land.sqft <- as.numeric(gsub(\"[^[:digit:]]\",\"\",qu$LAND.SQUARE.FEET))\nqu$sales.price <- as.numeric(gsub(\"[^[:digit:]]\",\"\",qu$SALE.PRICE))\nbr$land.sqft <- as.numeric(gsub(\"[^[:digit:]]\",\"\",br$LAND.SQUARE.FEET))\nbr$sales.price <- as.numeric(gsub(\"[^[:digit:]]\",\"\",br$SALE.PRICE))\nsi$land.sqft <- as.numeric(gsub(\"[^[:digit:]]\",\"\",si$LAND.SQUARE.FEET))\nsi$sales.price <- as.numeric(gsub(\"[^[:digit:]]\",\"\",si$SALE.PRICE))\n\n\nbk.sale <- bk[bk$land.sqft > 0,]\nbk.actual.sales.price <- data.frame(\"Brooklyn\", bk[bk$sales.price > 0,]$sales.price)\nbk.sale.per.sqft.df <- data.frame(\"Brooklyn\", sum(transform(bk.sale, per.sqft = sales.price/land.sqft)$per.sqft,na.rm=TRUE)/length(transform(bk.sale, per.sqft = sales.price/land.sqft)$per.sqft))\n\n\nmn.sale <- mn[mn$land.sqft > 0,]\nmn.actual.sales.price <- data.frame(\"Manhattan\", mn[mn$sales.price > 0,]$sales.price)\n\nmn.sale.per.sqft.df <- data.frame(\"Manhattan\", sum(transform(mn.sale, per.sqft = sales.price/land.sqft)$per.sqft,na.rm=TRUE)/length(transform(mn.sale, per.sqft = sales.price/land.sqft)$per.sqft))\n\nbr.sale <- br[br$land.sqft > 0,]\nbr.actual.sales.price <- data.frame(\"Bronx\", br[br$sales.price > 0,]$sales.price)\nbr.sale.per.sqft.df <- data.frame(\"Bronx\", sum(transform(br.sale, per.sqft = sales.price/land.sqft)$per.sqft,na.rm=TRUE)/length(transform(br.sale, per.sqft = sales.price/land.sqft)$per.sqft))\n\nqu.sale <- qu[qu$land.sqft > 0,]\nqu.actual.sales.price <- data.frame(\"Queens\", qu[qu$sales.price > 0,]$sales.price)\nqu.sale.per.sqft.df <- data.frame(\"Queens\", sum(transform(qu.sale, per.sqft = sales.price/land.sqft)$per.sqft,na.rm=TRUE)/length(transform(qu.sale, per.sqft = sales.price/land.sqft)$per.sqft))\n\nsi.sale <- si[si$land.sqft > 0,]\nsi.actual.sales.price <- data.frame(\"Staten Island\", si[si$sales.price > 0,]$sales.price)\nsi.sale.per.sqft.df <- data.frame(\"Staten Island\", sum(transform(si.sale, per.sqft = sales.price/land.sqft)$per.sqft,na.rm=TRUE)/length(transform(si.sale, per.sqft = sales.price/land.sqft)$per.sqft))\n\ncolnames(bk.actual.sales.price)[1] <- \"Region\"\ncolnames(bk.actual.sales.price)[2] <- \"Sale Price\"\ncolnames(mn.actual.sales.price)[1] <- \"Region\"\ncolnames(mn.actual.sales.price)[2] <- \"Sale Price\"\ncolnames(qu.actual.sales.price)[1] <- \"Region\"\ncolnames(qu.actual.sales.price)[2] <- \"Sale Price\"\ncolnames(br.actual.sales.price)[1] <- \"Region\"\ncolnames(br.actual.sales.price)[2] <- \"Sale Price\"\ncolnames(si.actual.sales.price)[1] <- \"Region\"\ncolnames(si.actual.sales.price)[2] <- \"Sale Price\"\n\ncolnames(bk.sale.per.sqft.df)[1] <- \"Region\"\ncolnames(bk.sale.per.sqft.df)[2] <- \"Price Per Sq Ft\"\ncolnames(mn.sale.per.sqft.df)[1] <- \"Region\"\ncolnames(mn.sale.per.sqft.df)[2] <- \"Price Per Sq Ft\"\ncolnames(qu.sale.per.sqft.df)[1] <- \"Region\"\ncolnames(qu.sale.per.sqft.df)[2] <- \"Price Per Sq Ft\"\ncolnames(br.sale.per.sqft.df)[1] <- \"Region\"\ncolnames(br.sale.per.sqft.df)[2] <- \"Price Per Sq Ft\"\ncolnames(si.sale.per.sqft.df)[1] <- \"Region\"\ncolnames(si.sale.per.sqft.df)[2] <- \"Price Per Sq Ft\"\n\n\ncumulative_price <- rbind.data.frame(data.frame(bk.actual.sales.price), \n                          data.frame(mn.actual.sales.price))\ncolnames(cumulative_price)[2] <- \"Sale Price\"\ncumulative_price <- rbind.data.frame(data.frame(cumulative_price), \n                          data.frame(br.actual.sales.price))\ncolnames(cumulative_price)[2] <- \"Sale Price\"\ncumulative_price <- rbind.data.frame(data.frame(cumulative_price), \n                          data.frame(qu.actual.sales.price))\ncolnames(cumulative_price)[2] <- \"Sale Price\"\ncumulative_price <- rbind.data.frame(data.frame(cumulative_price), \n                          data.frame(si.actual.sales.price))\n\n\n\ncumulative_sqFt <- rbind.data.frame(data.frame(bk.sale.per.sqft.df), \n                                     data.frame(mn.sale.per.sqft.df))\ncolnames(cumulative_sqFt)[2] <- \"Price Per Sq Ft\"\ncumulative_sqFt <- rbind.data.frame(data.frame(cumulative_sqFt), \n                                     data.frame(br.sale.per.sqft.df))\ncolnames(cumulative_sqFt)[2] <- \"Price Per Sq Ft\"\ncumulative_sqFt <- rbind.data.frame(data.frame(cumulative_sqFt), \n                                     data.frame(qu.sale.per.sqft.df))\ncolnames(cumulative_sqFt)[2] <- \"Price Per Sq Ft\"\ncumulative_sqFt <- rbind.data.frame(data.frame(cumulative_sqFt), \n                                     data.frame(si.sale.per.sqft.df))\n\n## Sales Price Comparison\nggplot(cumulative_price, aes(x=Region, y=log10(Sale.Price), fill=Region)) + geom_bar(stat = \"identity\", na.rm = TRUE)\n\n\n## Sales Price per Square feet comparison\nggplot(cumulative_sqFt, aes(x=Region, y=Price.Per.Sq.Ft, fill=Region)) + geom_bar(stat = \"identity\", na.rm = TRUE)\n\n",
    "created" : 1457216319184.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1185719096",
    "id" : "AA105A8D",
    "lastKnownWriteTime" : 1457227834,
    "path" : "C:/Users/Abhijeet/Desktop/DIC/Code/RealDirect/allEDA.R",
    "project_path" : "allEDA.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "type" : "r_source"
}